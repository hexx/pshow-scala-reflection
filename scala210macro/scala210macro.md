!SLIDE
## マクロ

<br/>

- 今のところ予定のうちの一部の機能しか実装されていない。
- 使えるのは「型付きの関数のマクロ」だけ。
- 「型付きの関数のマクロ」というのは型付けされたScalaの式を受け取り式を返すマクロ。
- この制約がきつく、新しい構文の導入やコードの生成といったものがやりにくいことになっている。

!SLIDE
## リフレクションとマクロの比較

!SLIDE
## マクロの特徴

<br/>

- 型付けされたScalaのコードの構文木を受け取ることができる。
- そのマクロを呼び出した構文やクラスの情報にアクセスできる。
- コンパイル時に計算できるので実行時の処理が軽くて済む。
- 型チェックできる。
- あまり大きな式を作ってしまうと展開されたときにコードのサイズが大きくなる。

!SLIDE
## リフレクションの特徴

<br/>

- 動的に動作を変えることができる。
- 実行時に構文木を解釈することになるので、処理が重くなる。
- 型チェックができない。
- 場合によっては広く展開されてしまうマクロよりコードサイズが小さくなる。
